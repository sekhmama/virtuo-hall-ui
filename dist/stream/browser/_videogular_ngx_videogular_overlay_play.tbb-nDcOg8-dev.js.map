{
  "version": 3,
  "sources": ["../../@videogular/ngx-videogular/fesm2022/videogular-ngx-videogular-overlay-play.mjs"],
  "sourcesContent": ["import * as i0 from '@angular/core';\nimport { Component, ViewEncapsulation, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport * as i1 from '@videogular/ngx-videogular/core';\nimport { VgStates, VgCoreModule } from '@videogular/ngx-videogular/core';\nclass VgOverlayPlayComponent {\n  constructor(ref, API, fsAPI, controlsHidden) {\n    this.API = API;\n    this.fsAPI = fsAPI;\n    this.controlsHidden = controlsHidden;\n    this.vgSkipIfControlsHidden = false;\n    this.vgSkipIfControlsHiddenDelay = 0.5;\n    this.isNativeFullscreen = false;\n    this.areControlsHidden = false;\n    this.areControlsHiddenChangeTime = 0;\n    this.subscriptions = [];\n    this.isBuffering = false;\n    this.elem = ref.nativeElement;\n  }\n  ngOnInit() {\n    if (this.API.isPlayerReady) {\n      this.onPlayerReady();\n    } else {\n      this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n    }\n  }\n  onPlayerReady() {\n    this.target = this.API.getMediaById(this.vgFor);\n    this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)));\n    this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this)));\n    this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(isBuffering => this.onUpdateBuffer(isBuffering)));\n  }\n  onUpdateBuffer(isBuffering) {\n    this.isBuffering = isBuffering;\n  }\n  onChangeFullscreen(fsState) {\n    if (this.fsAPI.nativeFullscreen) {\n      this.isNativeFullscreen = fsState;\n    }\n  }\n  onHideControls(hidden) {\n    if (this.vgSkipIfControlsHidden && this.areControlsHidden != hidden) {\n      this.areControlsHiddenChangeTime = Date.now();\n    }\n    this.areControlsHidden = hidden;\n  }\n  onClick() {\n    if (this.vgSkipIfControlsHidden && (this.areControlsHidden || Date.now() - this.areControlsHiddenChangeTime < this.vgSkipIfControlsHiddenDelay * 1000)) {\n      return;\n    }\n    const state = this.getState();\n    switch (state) {\n      case VgStates.VG_PLAYING:\n        this.target.pause();\n        break;\n      case VgStates.VG_PAUSED:\n      case VgStates.VG_ENDED:\n        this.target.play();\n        break;\n    }\n  }\n  getState() {\n    let state = VgStates.VG_PAUSED;\n    if (this.target) {\n      if (this.target.state instanceof Array) {\n        for (let i = 0, l = this.target.state.length; i < l; i++) {\n          if (this.target.state[i] === VgStates.VG_PLAYING) {\n            state = VgStates.VG_PLAYING;\n            break;\n          }\n        }\n      } else {\n        state = this.target.state;\n      }\n    }\n    return state;\n  }\n  ngOnDestroy() {\n    this.subscriptions.forEach(s => s.unsubscribe());\n  }\n  /** @nocollapse */\n  static {\n    this.\u0275fac = function VgOverlayPlayComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || VgOverlayPlayComponent)(i0.\u0275\u0275directiveInject(i0.ElementRef), i0.\u0275\u0275directiveInject(i1.VgApiService), i0.\u0275\u0275directiveInject(i1.VgFullscreenApiService), i0.\u0275\u0275directiveInject(i1.VgControlsHiddenService));\n    };\n  }\n  /** @nocollapse */\n  static {\n    this.\u0275cmp = /* @__PURE__ */i0.\u0275\u0275defineComponent({\n      type: VgOverlayPlayComponent,\n      selectors: [[\"vg-overlay-play\"]],\n      hostVars: 2,\n      hostBindings: function VgOverlayPlayComponent_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275listener(\"click\", function VgOverlayPlayComponent_click_HostBindingHandler() {\n            return ctx.onClick();\n          });\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275classProp(\"is-buffering\", ctx.isBuffering);\n        }\n      },\n      inputs: {\n        vgFor: \"vgFor\",\n        vgSkipIfControlsHidden: \"vgSkipIfControlsHidden\",\n        vgSkipIfControlsHiddenDelay: \"vgSkipIfControlsHiddenDelay\"\n      },\n      decls: 2,\n      vars: 6,\n      consts: [[1, \"vg-overlay-play\"], [1, \"overlay-play-container\"]],\n      template: function VgOverlayPlayComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.\u0275\u0275elementStart(0, \"div\", 0);\n          i0.\u0275\u0275element(1, \"div\", 1);\n          i0.\u0275\u0275elementEnd();\n        }\n        if (rf & 2) {\n          i0.\u0275\u0275classProp(\"native-fullscreen\", ctx.isNativeFullscreen)(\"controls-hidden\", ctx.areControlsHidden);\n          i0.\u0275\u0275advance();\n          i0.\u0275\u0275classProp(\"vg-icon-play_arrow\", ctx.getState() !== \"playing\");\n        }\n      },\n      styles: [\"vg-overlay-play{z-index:200}vg-overlay-play.is-buffering{display:none}vg-overlay-play .vg-overlay-play{transition:all .5s;cursor:pointer;position:absolute;display:block;color:#fff;width:100%;height:100%;font-size:80px;filter:alpha(opacity=60);opacity:.6}vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden{cursor:none}vg-overlay-play .vg-overlay-play .overlay-play-container.vg-icon-play_arrow{pointer-events:none;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;font-size:80px}vg-overlay-play .vg-overlay-play:hover{filter:alpha(opacity=100);opacity:1}vg-overlay-play .vg-overlay-play:hover .overlay-play-container.vg-icon-play_arrow:before{transform:scale(1.2)}\\n\"],\n      encapsulation: 2\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(VgOverlayPlayComponent, [{\n    type: Component,\n    args: [{\n      selector: 'vg-overlay-play',\n      encapsulation: ViewEncapsulation.None,\n      template: `<div\n    class=\"vg-overlay-play\"\n    [class.native-fullscreen]=\"isNativeFullscreen\"\n    [class.controls-hidden]=\"areControlsHidden\"\n  >\n    <div\n      class=\"overlay-play-container\"\n      [class.vg-icon-play_arrow]=\"getState() !== 'playing'\"\n    ></div>\n  </div>`,\n      styles: [\"vg-overlay-play{z-index:200}vg-overlay-play.is-buffering{display:none}vg-overlay-play .vg-overlay-play{transition:all .5s;cursor:pointer;position:absolute;display:block;color:#fff;width:100%;height:100%;font-size:80px;filter:alpha(opacity=60);opacity:.6}vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden{cursor:none}vg-overlay-play .vg-overlay-play .overlay-play-container.vg-icon-play_arrow{pointer-events:none;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;font-size:80px}vg-overlay-play .vg-overlay-play:hover{filter:alpha(opacity=100);opacity:1}vg-overlay-play .vg-overlay-play:hover .overlay-play-container.vg-icon-play_arrow:before{transform:scale(1.2)}\\n\"]\n    }]\n  }], () => [{\n    type: i0.ElementRef\n  }, {\n    type: i1.VgApiService\n  }, {\n    type: i1.VgFullscreenApiService\n  }, {\n    type: i1.VgControlsHiddenService\n  }], {\n    vgFor: [{\n      type: Input\n    }],\n    vgSkipIfControlsHidden: [{\n      type: Input\n    }],\n    vgSkipIfControlsHiddenDelay: [{\n      type: Input\n    }],\n    isBuffering: [{\n      type: HostBinding,\n      args: ['class.is-buffering']\n    }],\n    onClick: [{\n      type: HostListener,\n      args: ['click']\n    }]\n  });\n})();\nclass VgOverlayPlayModule {\n  /** @nocollapse */static {\n    this.\u0275fac = function VgOverlayPlayModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || VgOverlayPlayModule)();\n    };\n  }\n  /** @nocollapse */\n  static {\n    this.\u0275mod = /* @__PURE__ */i0.\u0275\u0275defineNgModule({\n      type: VgOverlayPlayModule\n    });\n  }\n  /** @nocollapse */\n  static {\n    this.\u0275inj = /* @__PURE__ */i0.\u0275\u0275defineInjector({\n      imports: [CommonModule, VgCoreModule]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.\u0275setClassMetadata(VgOverlayPlayModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, VgCoreModule],\n      declarations: [VgOverlayPlayComponent],\n      exports: [VgOverlayPlayComponent]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { VgOverlayPlayComponent, VgOverlayPlayModule };\n"],
  "mappings": "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",
  "names": []
}
